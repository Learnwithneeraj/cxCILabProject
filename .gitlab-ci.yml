# =============================================================================
# ## Checkmarx Advanced Gitlab Integration 
# ## Comments on merge requests and commits
#
# This script is delivered "as-is" with no Checkmarx support
# Feel free to fork and make your own
# =============================================================================


stages:
  - checkmarx scan
  - build
  - test
  - staging

ðŸ¤žCheckmarx:
  include: '.checkmarx-helpers.yml'
  stage: checkmarx scan
  only:
   - master  
#  extends: .checkmarxCommitTpl

ðŸ¤žCheckmarx on MR:
  include: '.checkmarx-helpers.yml'
  stage: checkmarx scan
  only:
    - merge_request  
  extends: .checkmarxMergeRequestTpl

build_src:
  stage: build
  script: echo 'cx-scan'
  only:
    - merge_requests

test_app:
  stage: test
  script: echo 'cx-test'
  only:
    - merge_requests

deploy:
  stage: staging
  script: echo 'cx-stage'
  only:
    - "master"
